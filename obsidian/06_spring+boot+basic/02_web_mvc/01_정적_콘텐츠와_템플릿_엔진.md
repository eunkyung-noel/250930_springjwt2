# 정적 콘텐츠와 템플릿 엔진

#정적콘텐츠 #StaticContent #템플릿엔진 #TemplateEngine #JSP #Thymeleaf #타임리프

웹 애플리케이션은 정적인 콘텐츠와 동적인 콘텐츠를 모두 다룹니다. Spring Boot는 이 두 가지 유형의 콘텐츠를 효율적으로 제공하기 위한 다양한 방법을 지원합니다.

---

## 1. 정적 콘텐츠(Static Content)

정적 콘텐츠는 내용이 변하지 않는 파일들을 의미합니다. 예를 들어, HTML, CSS, JavaScript 파일, 이미지, 폰트 등이 여기에 해당합니다. Spring Boot는 기본적으로 다음 경로에 있는 정적 리소스를 자동으로 인식하여 제공합니다.

- `classpath:/static/`
- `classpath:/public/`
- `classpath:/resources/`
- `classpath:/META-INF/resources/`

이 경로에 파일을 두기만 하면, 별도의 설정 없이 웹 브라우저에서 직접 접근할 수 있습니다. 예를 들어, `src/main/resources/static/css/style.css` 파일은 `http://localhost:8080/css/style.css` URL로 접근할 수 있습니다.

---

## 2. 템플릿 엔진(Template Engine)

템플릿 엔진은 동적인 콘텐츠를 생성하기 위해 사용됩니다. 서버에서 데이터를 가져와 미리 정의된 템플릿 파일(HTML, XML 등)과 결합하여 최종적인 응답 문서를 만듭니다. 이를 **서버 사이드 렌더링(Server-Side Rendering, SSR)**이라고 합니다.

Spring Boot는 다양한 템플릿 엔진을 지원하며, 그중 가장 대표적인 것은 **JSP**와 **Thymeleaf**입니다.

### JSP (JavaServer Pages)

- **개념**: HTML 문서 안에 Java 코드를 삽입하여 동적인 웹 페이지를 생성하는 전통적인 웹 기술입니다.
- **동작 방식**: 최초 요청 시, JSP 파일은 서블릿(.java 파일)으로 변환되고 컴파일(.class 파일)된 후 실행됩니다. 이후 요청부터는 컴파일된 서블릿이 직접 실행되어 응답 속도가 빠릅니다.
- **특징**:
  - 스크립틀릿(`<% ... %>`)이나 표현식(`<%= ... %>`)을 사용하여 Java 코드를 직접 실행할 수 있습니다.
  - Spring Boot 3.x부터는 JAR 패키징 방식에서 JSP 사용을 권장하지 않으며, WAR 패키징 방식과 외부 웹 애플리케이션 서버(WAS)가 필요합니다.

### Thymeleaf

- **개념**: 순수 HTML에 가깝게 템플릿을 유지할 수 있는 현대적인 서버 사이드 템플릿 엔진입니다. Spring Boot에서 공식적으로 권장하는 템플릿 엔진입니다.
- **동작 방식**: HTML 태그에 `th:*` 형태의 전용 속성을 추가하여 동작합니다. 템플릿 파서가 HTML을 분석하고 `th:*` 속성을 처리하여 동적인 결과물을 생성합니다.
- **특징**:
  - **내추럴 템플릿(Natural Templates)**: `th:*` 속성은 일반적인 HTML 속성처럼 동작하므로, 웹 브라우저에서 직접 파일을 열어도 원본 HTML 구조가 깨지지 않습니다. 이는 디자이너와 개발자 간의 협업을 용이하게 합니다.
  - Spring Boot의 기본 뷰 기술로, JAR 패키징 방식과 완벽하게 호환되어 내장 서버만으로 쉽게 실행할 수 있습니다.
  - JSP에 비해 문법이 간결하고, 코드 분리가 명확하여 유지보수성이 뛰어납니다.

### JSP vs Thymeleaf 비교

| 구분            | JSP (JavaServer Pages)                      | Thymeleaf                                               |
| --------------- | ------------------------------------------- | ------------------------------------------------------- |
| **핵심 개념**   | HTML에 Java 코드(`<% %>`)를 삽입            | HTML 태그에 `th:*` 속성을 추가하여 동작                 |
| **실행 방식**   | 최초 요청 시 Servlet으로 변환 및 컴파일     | 템플릿 파서가 HTML을 분석하고 `th:*` 속성을 처리        |
| **템플릿 형태** | 스크립틀릿이 포함되어 순수 HTML이 아님      | **내추럴 템플릿**: 브라우저에서 직접 열어도 깨지지 않음 |
| **Spring Boot** | WAR 패키징 및 외부 WAS 필요 (Boot 3.x 기준) | JAR 실행 파일에 내장되어 단독 실행 가능 (**권장**)      |
| **주요 문법**   | EL(`${...}`), JSTL(`<c:forEach>`)           | `th:text`, `th:if`, `th:each`, `th:object` 등           |

결론적으로, 새로운 Spring Boot 프로젝트에서는 **Thymeleaf**를 사용하는 것이 일반적이며, 레거시 시스템이나 특정 요구사항이 있을 경우 JSP를 사용하게 됩니다.
